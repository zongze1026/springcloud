rabbitmq实现分布式事务，步骤如下：
一、上游发送方
    1.向数据库加入一条消息数据，状态是未发送
    2.步骤1操作成功后，添加订单数据到数据库
    3.步骤2操订单添加成功后，发送mq信息到，并修改数据库的事务消息为已发送（需要保证在同一个事务中进行）
    4.采用mq的确认机制RabbitTemplate.ConfirmCallback如果消息发送失败的话，就重新发送
    5.定时任务扫描任务表中的数据，重新发送哪些状态为‘未发送’的消息，也就是执行步骤3(ScanMessageTask)
二、消息消费方
    1、消息消费方需要保证幂等性，消息重复消费不会对业务有影响
    2、消费方业务代码出现异常的话，可以考虑重新入队，这里需要注意可能会出现死循环；或者记录该条消息消费失败采用人工处理
